# Memory management(메모리 관리)
## 메모리와 주소
- 현대의 집주소처럼 메모리에도 주소가 존재한다. 컴퓨터는 이진수를 사용하기 때문에 메모리 주소는 이진수 기반으로 매겨진다. 예를 들어, 32비트 혹은 64비트 주소 체계를 사용한다면 2^32가지의 서로 다른 메모리 위치를 구분할 수 있게 된다. 
- 하지만 우리는 **전부 숫자로만 표현하지 않는다**. 이를테면 '서울시 종로구 청계천로 110'처럼 **계층적으로 나누어 관리**한다. 컴퓨터 역시 페이지라는 하나의 행정구역을 만들고 32비트 중 12비트는 페이지 내에서 주소를 나타낸다.
## 주소 바인딩
### 물리적 주소와 논리적 주소
- 프로그램이 실행을 위해 메모리에 적재되면 **주소 공간이 생성**된다. 이를 **논리적 주소**라고 부른다.
- 반면 실제 메모리에 올라가는 위치는 **물리적 주소**라고 한다. 낮은 주소 영역에는 운영체제가 올라가고 높은 주소 영역에는 사용자 프로세스가 올라간다.
### 주소 바인딩
- CPU가 인스트럭쳐를 수행하기 위해서는 논리적 주소가 어느 물리적 주소에 매핑되는지 알아야 한다.
- 프로세스의 논리적 주소를 물리적 주소로 연결시켜주는 작업을 **주소 바인딩**이라고 한다.
#### 주소 바인딩의 종류
- 컴파일 타임 바인딩 : 프로그램을 컴파일할 때 물리적 메모리 주소가 결정되는 주소 바인딩 방식이다. 물리적 메모리 위치를 변경하려면 컴파일을 다시 해야만 한다.
- 로드 타임 바인딩 : 프로그램 실행이 시작될 때 물리적 메모리 주소가 결정되는 주소 바인딩 방식이다. **로더**에 의해 메모리 주소가 부여되고 **종료될 때까지 주소가 고정**된다.
- 런타임 바인딩 : 프로그램 실행 후에도 물리적 메모리 주소가 변경될 수 있는 바인딩 방식이다. 주소를 참조할 때마다 물리적 메모리 위치를 찾기 위해 **주소 매핑 테이블**을 이용해야 한다. 런타임 방식이 가능하기 위해선 **기준 레지스터(=relocation register), 한계 레지스터, MMU(memory management unit)**가 핖요하다.

![](https://media.geeksforgeeks.org/wp-content/uploads/operating_system.png)
출처 - [geeksforgeeks](https://www.geeksforgeeks.org/logical-and-physical-address-in-operating-system/)
- 프로세스마다 고유의 기준 레지스터를 갖고 있기 때문에 서로 다른 100번지에 접근할 수 있게 된다.
- 만약 주소 변환을 했을 때 **프로세스에 허용되는 물리적 주소 공간을 벗어나는 경우**, **한계 레지스터**를 활용해서 범위를 넘었는지 확인할 수 있다.

![](https://media.geeksforgeeks.org/wp-content/uploads/20210531165409/addresstranslation.jpg)
출처 - [geeksforgeeks](https://www.geeksforgeeks.org/memory-allocation-techniques-mapping-virtual-addresses-to-physical-addresses/)
- 한계 레지스터는 프로세스의 논리적 주소의 최댓값을 가지기 때문에 **메모리 보안을 유지**하게 만드는 장치이다.

## 메모리 관리와 관련된 용어들
## 물리적 메모리 관리 방법
